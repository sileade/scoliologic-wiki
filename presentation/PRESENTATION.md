# Scoliologic Wiki
## Корпоративная система управления знаниями на основе AI

---

## Содержание

1. Обзор системы
2. Основные возможности
3. Интеллектуальный поиск
4. AI-помощник для написания
5. Инструменты и функции
6. Архитектура системы
7. Безопасность и доступ
8. Развёртывание

---

## 1. Обзор системы

**Scoliologic Wiki** — это современная корпоративная платформа управления знаниями, разработанная специально для группы компаний Scoliologic. Система объединяет удобство использования Notion с мощью локальных AI-моделей, обеспечивая полную конфиденциальность данных и простоту развёртывания.

### Главные преимущества

- **Локальный AI**: Все AI-функции работают на ваших серверах без отправки данных в облако
- **Простота использования**: Интерфейс, похожий на Notion, не требует обучения
- **Полная безопасность**: Интеграция с Authentik, шифрование, контроль доступа
- **Самостоятельный хостинг**: Docker-развёртывание, полный контроль над данными
- **Мощный поиск**: Комбинация текстового и AI-семантического поиска
- **Командное взаимодействие**: Версионирование, история изменений, аналитика

---

## 2. Основные возможности

### 2.1 Редактор как в Notion

Интуитивный WYSIWYG-редактор с полным набором инструментов форматирования:

**Форматирование текста**: Жирный, курсив, подчёркивание, зачёркивание, выделение, встроенный код

**Структурирование контента**: Заголовки (H1-H6), маркированные списки, нумерованные списки, списки задач, цитаты, блоки кода

**Таблицы**: Создание и редактирование таблиц прямо в редакторе

**Встроенные медиа**:
- Изображения из S3 хранилища
- Видео с YouTube, RuTube, VK Video и S3
- Ссылки с предпросмотром
- Встроенные документы

**Автоматическое форматирование**: Markdown-сокращения (# для заголовков, - для списков, > для цитат, ``` для кода)

**Умное форматирование**: Автоматическое преобразование символов (стрелки, тире, кавычки)

### 2.2 Иерархическая структура страниц

Организуйте вашу базу знаний в удобную древовидную структуру:

- **Иерархия страниц**: Создавайте подстраницы внутри страниц для логической организации
- **Навигация по дереву**: Боковая панель с полной иерархией всех страниц
- **Хлебные крошки**: Быстрая навигация через цепочку родительских страниц
- **Перетаскивание**: Изменяйте иерархию перетаскиванием страниц

### 2.3 Управление доступом и группами

Гибкая система управления доступом на основе групп:

**Роли пользователей**:
- **Администратор**: Полный доступ ко всем страницам и настройкам
- **Редактор**: Может создавать и редактировать страницы
- **Читатель**: Только чтение назначенных страниц
- **Гость**: Доступ только к публичным страницам

**Управление группами**: Создавайте группы пользователей и назначайте им права доступа

**Доступ по страницам**: Установите разные права для разных страниц

**Интеграция с Authentik**: Синхронизируйте группы из вашего Authentik-сервера

### 2.4 Версионирование и история

Отслеживайте все изменения в ваших документах:

- **История версий**: Полная история всех изменений каждой страницы
- **Кто и когда**: Видите автора каждого изменения и время
- **Откат**: Восстановите любую предыдущую версию одним кликом
- **Сравнение версий**: Посмотрите, что изменилось между версиями

### 2.5 Шаблоны и быстрое создание

Ускорьте создание документов с помощью готовых шаблонов:

- **Библиотека шаблонов**: Предустановленные шаблоны для разных типов документов
- **Категории**: Организуйте шаблоны по категориям (API документация, процедуры, FAQ)
- **Быстрое создание**: Создайте новую страницу из шаблона одним кликом
- **Управление**: Создавайте, редактируйте и удаляйте свои шаблоны

### 2.6 Экспорт и интеграция

Экспортируйте вашу документацию в разные форматы:

- **PDF**: Экспортируйте страницы в PDF с сохранением форматирования
- **Markdown**: Получайте Markdown-версию для использования в других системах
- **Групповой экспорт**: Экспортируйте несколько страниц одновременно
- **S3 хранилище**: Встроенное хранилище для медиафайлов

### 2.7 Аналитика и метрики

Отслеживайте использование вашей wiki:

- **Просмотры страниц**: Сколько раз каждая страница была просмотрена
- **Активность пользователей**: Кто и когда создавал/редактировал страницы
- **Популярные статьи**: Какие страницы читают больше всего
- **Поисковая аналитика**: Какие запросы ищут пользователи
- **Дашборд**: Визуальное представление всей активности в админ-панели

### 2.8 Тёмная тема

Комфортная работа в любое время суток:

- **Автоопределение**: Система автоматически определяет предпочтение вашей ОС
- **Ручное переключение**: Переключайтесь между светлой и тёмной темой в любой момент
- **Сохранение выбора**: Ваш выбор темы сохраняется между сеансами

---

## 3. Интеллектуальный поиск

### 3.1 Два режима поиска

**Текстовый поиск** — быстрый и точный поиск по ключевым словам:
- Поиск в названиях и содержимом страниц
- Точное совпадение слов
- Мгновенные результаты
- Идеален для поиска конкретной информации

**AI-поиск** — интеллектуальный поиск по смыслу:
- Понимает значение вашего запроса, а не только слова
- Найдёт релевантные страницы даже если они используют другую терминологию
- Использует локальные AI-модели для семантического анализа
- Идеален для исследовательских запросов

### 3.2 Возможности поиска

**Автодополнение**: Система предлагает варианты по мере ввода

**Фильтры**: Ограничьте результаты по:
- Дате создания/изменения
- Автору
- Категории
- Уровню доступа

**Выделение результатов**: Найденные слова выделены в результатах для быстрого поиска

**Аналитика поисков**: Администраторы видят, какие запросы ищут пользователи

### 3.3 Как это работает

1. Введите поисковый запрос в поле поиска
2. Выберите режим: "Текстовый поиск" или "AI поиск"
3. Система мгновенно возвращает релевантные результаты
4. Кликните на результат для открытия страницы
5. Найденный текст выделен для быстрого поиска на странице

**Пример текстового поиска**: "API документация" найдёт все страницы с этими словами

**Пример AI-поиска**: "Как интегрировать платежи?" найдёт страницы о платёжных системах, даже если они не содержат эти точные слова

---

## 4. AI-помощник для написания

### 4.1 Встроенный AI-ассистент

На правой панели редактора находится AI-помощник, который помогает вам писать лучше:

**Основные функции**:

1. **Генерация контента**: Создайте статью из краткого описания или плана
2. **Расширение текста**: Развёрнутые заметки в полноценные статьи
3. **Сокращение текста**: Создайте краткое резюме длинной статьи
4. **Изменение тона**: Переделайте текст в другом стиле (формальный, неформальный, технический)
5. **Проверка грамматики**: Автоматическое исправление ошибок
6. **Исправление форматирования**: Улучшение структуры и оформления
7. **Извлечение ключевых слов**: Найдите главные термины в тексте
8. **SEO-оптимизация**: Получите рекомендации для лучшей видимости в поиске
9. **Создание плана**: Сгенерируйте план статьи из содержания

### 4.2 Как использовать AI-помощник

**Шаг 1**: Откройте страницу в редакторе

**Шаг 2**: Нажмите кнопку "AI Assistant" на правой панели

**Шаг 3**: Выберите нужную функцию из меню

**Шаг 4**: Система обработает текст и предложит результат

**Шаг 5**: Примите или отредактируйте предложенный текст

### 4.3 Примеры использования

**Генерация статьи**:
- Введите тему: "Как настроить двухфакторную аутентификацию"
- AI создаст полную статью с пошаговыми инструкциями

**Улучшение тона**:
- Выделите текст
- Нажмите "Изменить тон" → "Формальный"
- AI переделает текст в официальном стиле

**Проверка грамматики**:
- Нажмите "Проверить грамматику"
- Система найдёт и исправит ошибки

**SEO-оптимизация**:
- Нажмите "SEO рекомендации"
- Получите советы по улучшению видимости

---

## 5. Инструменты и функции

### 5.1 Панель инструментов редактора

**Форматирование текста**:
- **B** (Жирный): Выделите текст жирным
- **I** (Курсив): Наклоните текст
- **U** (Подчёркивание): Подчеркните текст
- **S** (Зачёркивание): Перечеркните текст
- **H** (Выделение): Выделите цветом

**Структурирование**:
- **H1-H6**: Заголовки разных уровней
- **Список**: Маркированный список
- **123**: Нумерованный список
- **☑**: Список задач

**Вставка элементов**:
- **Таблица**: Вставьте таблицу
- **Изображение**: Загрузите изображение
- **Видео**: Вставьте видео (YouTube, RuTube, VK, S3)
- **Ссылка**: Добавьте гиперссылку
- **Код**: Вставьте блок кода
- **Цитата**: Создайте цитату

### 5.2 Горячие клавиши

**Форматирование**:
- `Ctrl+B` — Жирный
- `Ctrl+I` — Курсив
- `Ctrl+U` — Подчёркивание
- `Ctrl+S` — Сохранить

**Структурирование**:
- `#` + Space — Заголовок H1
- `##` + Space — Заголовок H2
- `-` + Space — Маркированный список
- `1.` + Space — Нумерованный список
- `>` + Space — Цитата
- ` ``` ` — Блок кода

### 5.3 Боковая панель навигации

**Левая панель** показывает иерархию всех страниц:

- Кликните на страницу для открытия
- Перетащите страницу для изменения иерархии
- Нажмите "+" для создания подстраницы
- Нажмите "..." для дополнительных опций

### 5.4 Свойства страницы

**Название**: Название страницы (видно в навигации)

**Описание**: Краткое описание содержимого

**Доступ**: Установите права доступа (Публичная, Группа, Приватная)

**Теги**: Добавьте теги для лучшей организации

**Статус**: Отметьте как черновик, опубликовано или архивировано

---

## 6. Архитектура системы

### 6.1 Технологический стек

**Фронтенд**:
- React 19 — современный фреймворк для интерфейса
- TypeScript — типизированный JavaScript для надёжности
- TailwindCSS — быстрое создание стилей
- TipTap — мощный редактор текста

**Бэкенд**:
- Express.js — веб-сервер
- tRPC — безопасное API с типизацией
- PostgreSQL — надёжная база данных
- Drizzle ORM — удобная работа с БД

**AI и поиск**:
- Ollama — локальные AI-модели
- Vector embeddings — семантический поиск
- Full-text search — текстовый поиск

### 6.2 Инфраструктура

**Контейнеризация**:
- Docker Compose — оркестрация всех сервисов
- Traefik — обратный прокси и балансировка нагрузки

**Хранилище**:
- PostgreSQL — основная база данных
- MinIO — S3-совместимое хранилище для файлов

**AI**:
- Ollama — локальные LLM и embeddings
- GPU поддержка — ускорение обработки

### 6.3 Схема базы данных

**Основные таблицы**:
- `users` — пользователи и их роли
- `pages` — страницы wiki с содержимым
- `groups` — группы пользователей
- `page_versions` — история версий
- `page_access` — права доступа
- `templates` — шаблоны страниц
- `analytics` — логи активности

---

## 7. Безопасность и доступ

### 7.1 Аутентификация

**OAuth2 через Authentik**: Используется ваш корпоративный Authentik-сервер

**Управление сеансами**: Безопасные сеансы с JWT-токенами

**Двухфакторная аутентификация**: Поддержка 2FA через Authentik

### 7.2 Авторизация и права доступа

**Роли**:
- Администратор — полный доступ
- Редактор — создание и редактирование
- Читатель — только чтение
- Гость — доступ только к публичным страницам

**Уровни доступа**:
- Публичная — видна всем
- Для группы — доступна только членам группы
- Приватная — только владельцу и администраторам

**Синхронизация с Authentik**: Группы автоматически синхронизируются из Authentik

### 7.3 Защита данных

**Шифрование**: Все чувствительные данные зашифрованы

**HTTPS**: Весь трафик защищён SSL/TLS

**Аудит**: Все действия логируются и отслеживаются

**Локальное хранение**: Ваши данные остаются на ваших серверах

---

## 8. Развёртывание

### 8.1 Требования

- Docker и Docker Compose
- 8GB+ RAM (рекомендуется 16GB+)
- 20GB+ свободного места
- GPU (опционально, для ускорения AI)
- Authentik-сервер для OAuth

### 8.2 Быстрое развёртывание

**Шаг 1**: Клонируйте репозиторий

```bash
git clone https://github.com/scoliologic/wiki.git
cd wiki
```

**Шаг 2**: Скопируйте конфигурацию

```bash
cp .env.example .env
# Отредактируйте .env с вашими параметрами
```

**Шаг 3**: Запустите Docker Compose

```bash
docker-compose up -d
```

**Шаг 4**: Инициализируйте базу данных

```bash
docker-compose exec app pnpm db:push
```

**Шаг 5**: Загрузите AI-модели

```bash
docker-compose exec ollama ollama pull llama3.2
```

**Шаг 6**: Откройте wiki в браузере

```
https://wiki.your-domain.com
```

### 8.3 Конфигурация

**Переменные окружения**:
- `DATABASE_URL` — подключение к PostgreSQL
- `AUTHENTIK_URL` — URL вашего Authentik-сервера
- `AUTHENTIK_TOKEN` — API токен Authentik
- `OLLAMA_URL` — URL Ollama-сервера
- `MINIO_URL` — URL MinIO для S3

### 8.4 Опции развёртывания

**С новым Traefik**: Развёртывание с собственным Traefik

```bash
docker-compose -f docker-compose.yml up -d
```

**С существующим Traefik**: Интеграция с вашим Traefik

```bash
docker-compose -f docker-compose.existing-traefik.yml up -d
```

---

## Ключевые преимущества

✅ **Локальный AI** — все обработка на ваших серверах, без облака

✅ **Простота Notion** — знакомый интерфейс, не требует обучения

✅ **Корпоративная безопасность** — Authentik, шифрование, контроль доступа

✅ **Самостоятельный хостинг** — полный контроль над данными

✅ **Быстрое развёртывание** — Docker Compose, один клик

✅ **Мощный поиск** — текстовый + AI-семантический

✅ **Полная аналитика** — отслеживание активности и популярности

✅ **Расширяемость** — TypeScript, tRPC, легко добавлять функции

---

## Примеры использования

### Техническая документация

- API документация с примерами кода
- Архитектурные диаграммы и описания
- Процедуры развёртывания и настройки
- Гайды по устранению неполадок

### Внутренние процедуры

- Политики и руководства компании
- Стандартные операционные процедуры
- Материалы для обучения
- Документирование решений

### Управление знаниями

- Лучшие практики и уроки
- Документация проектов
- Результаты исследований
- Заметки совещаний

### Командное сотрудничество

- Вики проектов для команд
- Обмен знаниями между отделами
- Документация для новых сотрудников
- База знаний и FAQ

---

## Поддержка и документация

- Полная документация API
- Гайды по развёртыванию
- Руководства по устранению неполадок
- Видеоуроки
- Форум сообщества

---

## Заключение

**Scoliologic Wiki** — это полнофункциональная корпоративная платформа управления знаниями, которая объединяет простоту использования с мощью локальных AI-моделей. Система разработана специально для потребностей вашей организации и может быть развёрнута в течение нескольких минут.

Начните использовать Scoliologic Wiki сегодня и преобразуйте управление знаниями в вашей компании.

---

**Scoliologic Wiki — Управление знаниями с помощью AI**

*Разработано для группы компаний Scoliologic*
