# Redis Sentinel Configuration for Scoliologic Wiki
# High Availability setup with automatic failover

# Sentinel port
port 26379

# Monitor master with name "mymaster" at redis-master:6379
# Quorum of 2 means at least 2 sentinels must agree for failover
sentinel monitor mymaster redis-master 6379 2

# Time in milliseconds after which master is considered down
sentinel down-after-milliseconds mymaster 5000

# Number of replicas that can be reconfigured simultaneously during failover
sentinel parallel-syncs mymaster 1

# Failover timeout in milliseconds
sentinel failover-timeout mymaster 60000

# Deny scripts reconfiguration
sentinel deny-scripts-reconfig yes

# Resolve hostnames (required for Docker networking)
sentinel resolve-hostnames yes

# Announce IP for Docker networking
sentinel announce-hostnames yes

# Log level
loglevel notice

# Working directory
dir /data
